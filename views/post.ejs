<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech&finance guide||<%= post.tittle%></title>
    <link rel="stylesheet" href="/css/all.min.css">
    <link rel="stylesheet" href="/css/post.css">
    <link rel="stylesheet"href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <link rel="icon" href="/t&f3.svg">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V9QYPB859W"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V9QYPB859W');
</script>

</head>
<body>
    <header>
      <h1><%=post.tittle %></h1>
      <a href="/">Home</a>
    </header>
    <main>
        <div>
            <h4>Author:<%=post.author %></h4>
            <h5>Date: <%=post.date %></h5>
            <img src="<%= post.contentImageUrl %>" alt="content">
            <h5>The image is from<a href="<%=post.imageSrc %>"><%=post.imageSrc %></a></h5>
            <p><%= post.firstParagraph %></p>
            <p><%=post.secondParagraph %></p>
            <p> <%=post.thirdParagraph%></p>
            <p> <%=post.fourthParagraph%></p>   
        </div>
        <h1>Recommended articles you migth like</h1>  
            <div  id="slider" class="swiperwrapper">
                <% removeCurrentPostFrmRecommended.forEach((posts)=>{%>
                    <div class="slide">
                        <h3><%=posts.tittle %></h3>
                        <img src="<%= posts.contentImageUrl %>" alt="Recommended posts">
                        <p><%= posts.firstParagraph %></p>
                        <a href="/article/<%= posts._id %>">Read article here</a>
                    </div>
                    <%})%>
            </div>
    </main>
    <footer>
        <h2 class="footer">copyright<i class="fas fa-copyright"></i> 2023 - present| chat corp| developed by sizwe| Email:sizwenkala80@gmail.com</h2>
      </footer>

      <script>
      // Get the slider container element
const slider = document.getElementById('slider');

// Get all the slides
const slides = slider.getElementsByClassName('slide');

// Set the current slide index and total slides count
let currentSlideIndex = 0;
const totalSlides = slides.length;

// Variables for touch events
let touchStartX = 0;
let touchEndX = 0;

// Show the initial slide
slides[currentSlideIndex].style.display = 'block';

// Function to move to the next slide
function nextSlide() {
   // Hide the current slide
   slides[currentSlideIndex].style.display = 'none';

   // Increment the slide index
   currentSlideIndex++;

   // Wrap around to the first slide if reached the end
   if (currentSlideIndex >= totalSlides) {
       currentSlideIndex = 0;
   }

   // Show the next slide
   slides[currentSlideIndex].style.display = 'block';
}

// Function to move to the previous slide
function previousSlide() {
   // Hide the current slide
   slides[currentSlideIndex].style.display = 'none';

   // Decrement the slide index
   currentSlideIndex--;

   // Wrap around to the last slide if reached the beginning
   if (currentSlideIndex < 0) {
       currentSlideIndex = totalSlides - 1;
   }

   // Show the previous slide
   slides[currentSlideIndex].style.display = 'block';
}

// Function to handle touch start event
function handleTouchStart(event) {
   touchStartX = event.touches[0].clientX;
}

// Function to handle touch end event
function handleTouchEnd(event) {
   touchEndX = event.changedTouches[0].clientX;
   handleSwipe();
}

// Function to handle swipe gesture
function handleSwipe() {
   const swipeThreshold = 100; // Minimum swipe distance threshold

   // Calculate the difference between start and end touch positions
   const swipeDistance = touchEndX - touchStartX;

   if (swipeDistance > swipeThreshold) {
       // Swipe right, move to the previous slide
       previousSlide();
   } else if (swipeDistance < -swipeThreshold) {
       // Swipe left, move to the next slide
       nextSlide();
   }
}

// Add event listeners for touch events
slider.addEventListener('touchstart', handleTouchStart);
slider.addEventListener('touchend', handleTouchEnd);

// Start the automatic slideshow
setInterval(nextSlide, 3000); // Change slide every 3 seconds (adjust as needed)

</script>

</body>
</html>